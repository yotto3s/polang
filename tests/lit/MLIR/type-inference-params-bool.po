; RUN: %polang_compiler --emit-mlir %s | %FileCheck %s

; Infer bool parameter from if condition
; CHECK: {{.*}}polang.func @is_truthy(%{{.*}}: !polang.bool) -> !polang.int{{.*}}
let is_truthy(x) = if x then 1 else 0

; Infer bool parameter from nested if conditions
; CHECK: {{.*}}polang.func @both_true(%{{.*}}: !polang.bool, %{{.*}}: !polang.bool) -> !polang.int{{.*}}
let both_true(x, y) = if x then (if y then 1 else 0) else 0

; Infer bool from logical context (negation via if)
; CHECK: {{.*}}polang.func @negate(%{{.*}}: !polang.bool) -> !polang.int{{.*}}
let negate(x) = if x then 0 else 1

; Call the functions to ensure they're emitted
is_truthy(true)
both_true(true, true)
negate(false)
