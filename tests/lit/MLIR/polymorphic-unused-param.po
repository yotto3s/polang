; RUN: %polang_compiler --emit-mlir %s | %FileCheck %s

; Test polymorphic function with unused parameter.
; Parameter type is inferred from call site even when not used in body.
; Monomorphization creates a specialized version.

; The specialized function with concrete int type
; CHECK-DAG: {{.*}}polang.func @unused$i64(%{{.*}}: !polang.integer<64, signed>) -> !polang.integer<64, signed>{{.*}}

; The original polymorphic function is marked
; CHECK-DAG: {{.*}}polang.func @unused(%{{.*}}: !polang.typevar{{.*}}) -> !polang.integer<64, signed>{{.*}} attributes {polang.polymorphic}{{.*}}

let unused(x) = 42

; Entry point - call the function with an int
unused(1)
