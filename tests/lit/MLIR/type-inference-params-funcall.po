; RUN: %polang_compiler --emit-mlir %s | %FileCheck %s

; Known function with explicit types
; CHECK: {{.*}}polang.func @double_int(%{{.*}}: !polang.int) -> !polang.int{{.*}}
let double_int(x: int): int = x * 2

; Wrapper functions remain polymorphic until called
; CHECK: {{.*}}polang.func @wrapper(%{{.*}}: !polang.typevar{{.*}}){{.*}}polang.polymorphic{{.*}}
let wrapper(y) = double_int(y)

; Known function for double type
; CHECK: {{.*}}polang.func @half_double(%{{.*}}: !polang.double) -> !polang.double{{.*}}
let half_double(x: double): double = x / 2.0

; Wrapper function remains polymorphic until called
; CHECK: {{.*}}polang.func @wrapper_double(%{{.*}}: !polang.typevar{{.*}}){{.*}}polang.polymorphic{{.*}}
let wrapper_double(y) = half_double(y)

; Entry point
0
