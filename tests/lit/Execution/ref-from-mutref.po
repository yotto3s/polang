; RUN: %polang_repl %s | %FileCheck %s

; Test that `ref *x` creates an immutable reference with a COPY of x's value,
; not sharing storage. When x is updated, dereferencing the immutable
; reference should still see the original value.
; CHECK: 10 : i64
let x = mut 10
let y = ref *x
x <- 20
*y
